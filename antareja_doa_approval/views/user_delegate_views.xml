<odoo>
    <record id="view_user_delegate_form" model="ir.ui.view">
        <field name="name">user.delegate</field>
        <field name="model">user.delegate</field>
        <field name="priority" eval="16"/>
        <field name="inherit_id" ref="antareja_approval.view_user_delegate_form"/>
        <field name="arch" type="xml">
            <xpath expr="//header" position="inside">
                <field name="access_proxy_or_direct_approval" invisible="1"/>
                <button name="action_approve_transaction" string="Approve"
                        type="object" class="oe_highlight"
                        attrs="{'invisible': ['|',('access_proxy_or_direct_approval','=',False),('state', '=', 'draft')]}"
                />
                <button name="action_reject_transaction" string="Reject"
                        type="object" class="oe_highlight"
                        attrs="{'invisible': ['|',('access_proxy_or_direct_approval','=',False),('state', '=', 'draft')]}"
                />
            </xpath>
            <xpath expr="//form//sheet" position="inside">
                <notebook id="approval_form">
                    <page string="Approval Config" states="draft">
                        <group>
                            <label for="approval_stage_id"/>
                            <div class="o_row" nolabel="1">
                                <field name="stage_hr_employee_id"
                                       readonly="1" force_save="1"
                                       context="{'create':False,'edit':False}"
                                       class="mr-2"
                                />
                                <button name="action_button_create__stage_hr_employee_id" string="Create/Edit" type="object" class="btn-secondary" states="draft"/>
                            </div>

                        </group>
                        <field name="approval_stage_all" readonly="1">
                                <tree>
                                    <field name="stage_strategy_name" />
                                    <field name="description" />
                                    <field name="request_date" />
                                    <field name="requester_id" />
                                </tree>
                        </field>

                        <field name="approval_stage_task_all" readonly="1">
                                <tree>
                                    <field name="sequence" widget="handle"/>
                                    <field name="type_approval"/>
                                    <field name="user_id"/>
                                    <field name="group_id"/>
                                </tree>
                        </field>
                    </page>

                    <page string="Approval Task" >
                        <field name="approval_stage_task_line" readonly="1">
                            <tree>
                                <field name="sequence" widget="handle"/>
                                <field name="status_approval" />
                                <field name="type_approval"/>
                                <field name="user_id"/>
                                <field name="group_id"/>
                                <field name="user_execution_id" optional="hide"/>
                                <field name="date_execution" optional="hide"/>
                                <field name="user_behalf_of_id" optional="hide"/>
                                <field name="user_delegate_id" optional="hide"/>
                                <field name="approval_audit_log_id" optional="hide"/>
                            </tree>
                        </field>
                    </page>
                    <page string="Audit Trail">
                        <field name="approval_audit_log_line" readonly="1">
                            <tree>
                                <field name="action_type"/>
                                <field name="create_date"/>
                                <field name="user_id"/>
                                <field name="proxy_user_id"/>
                                <field name="delegator_user_id"/>
                                <field name="notes"/>
                            </tree>
                        </field>
                    </page>
                </notebook>
            </xpath>
        </field>
    </record>
</odoo>
